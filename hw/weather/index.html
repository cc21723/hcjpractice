<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â§©Ê∞£‰πãÂ≠êÈ¢®Ê†ºÂ§©Ê∞£È†êÂ†±</title>
        <!-- ËºâÂÖ•bs5 css -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/css/bootstrap.min.css"
            integrity="sha512-fw7f+TcMjTb7bpbLJZlP8g2Y4XcCyFZW8uy8HsRZsH/SwbMw0plKHFHr99DN3l04VsYNwvzicUX/6qurvIxbxw=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(to bottom, #a0cfff, #e6f5ff);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 40px;
            overflow-x: hidden;
        }

        /* Èõ≤Â±§ */
        .cloud-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 300%;
            height: 100%;
            background-repeat: repeat-x;
            background-size: 800px auto;
            pointer-events: none;
            z-index: -1;
        }

        .clouds-back {
            background-image: url('https://pngimg.com/d/cloud_PNG112234.png');
            opacity: 0.4;
            animation: moveCloudsBack 120s linear infinite;
        }

        .clouds-mid {
            background-image: url('https://pngimg.com/uploads/cloud/cloud_PNG6.png');
            opacity: 0.6;
            animation: moveCloudsMid 80s linear infinite;
        }

        .clouds-front {
            background-image: url('https://pngimg.com/uploads/cloud/cloud_PNG4.png');
            opacity: 0.9;
            animation: moveCloudsFront 50s linear infinite;
        }

        @keyframes moveCloudsBack {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(-50%);
            }
        }

        @keyframes moveCloudsMid {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(-50%);
            }
        }

        @keyframes moveCloudsFront {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(-50%);
            }
        }

        /* Ê®ôÈ°å */
        h3 {
            text-align: center;
            font-weight: bold;
            color: #1a4f8b;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.9), 0 0 20px rgba(173, 216, 230, 0.6);
            margin-bottom: 30px;
            font-size: 2rem;
        }

        /* Â§©Ê∞£‰πãÂ≠êÈ¢®Ê†ºË°®Ê†º */
        table {
            width: 90%;
            margin: auto;
            border-collapse: separate;
            border-spacing: 0;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        }

        thead {
            background: linear-gradient(to right, #6fb1fc, #1f78d1);
            color: #fff;
            font-weight: bold;
            text-align: center;
        }

        thead th {
            padding: 15px 10px;
            font-size: 1.1rem;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        tbody td {
            padding: 14px 10px;
            text-align: center;
            color: #1a4f8b;
            font-weight: 500;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        tbody tr:hover td {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px);
            color: #e16b8c;
            transform: scale(1.02);
        }

        /* Á∑®ËôüÊ¨ÑÁâπÊÆäÊ®£Âºè */
        tbody td:first-child {
            font-weight: bold;
            color: #ffb347;
        }


        /* ÈôçÈõ®Ê©üÁéáÊ¨ÑÂä†Ê∞¥Êª¥ Emoji */
        tbody td:nth-child(3)::after {
            content: " üíß";
            margin-left: 4px;
        }

        /* Ê∫´Â∫¶Ê¨ÑÂä†Â§™ÈôΩ / Ê∫´Â∫¶ Emoji */
        tbody td:nth-child(5)::after,
        tbody td:nth-child(6)::after {
            content: " üå°Ô∏è";
            margin-left: 4px;
        }

        /* ËàíÈÅ©Â∫¶Ê¨ÑÂä†ÂΩ©Ëôπ */
        tbody td:nth-child(7)::before {
            content: "üåà ";
            margin-right: 4px;
        }


        /* ÊâãÊ©üÈüøÊáâÂºè */
        @media (max-width: 768px) {

            table,
            thead,
            tbody,
            th,
            td,
            tr {
                display: block;
            }

            thead {
                display: none;
            }

            tbody td {
                text-align: right;
                padding-left: 50%;
                position: relative;
            }

            tbody td::before {
                content: attr(data-label);
                position: absolute;
                left: 15px;
                width: calc(50% - 30px);
                white-space: nowrap;
                font-weight: bold;
            }
        }
    </style>

</head>

<body>
    <!-- ‰∏âÂ±§Èõ≤ -->
    <div class="cloud-layer clouds-back"></div>
    <div class="cloud-layer clouds-mid"></div>
    <div class="cloud-layer clouds-front"></div>

    <h3>‚òÄÔ∏è ‰∏âÂçÅÂÖ≠Â∞èÊôÇÂ§©Ê∞£È†êÂ†±</h3>

    <table id="myTable" class="display">
        <thead>
            <tr>
                <th>Á∑®Ëôü</th>
                <th>Âú∞Èªû</th>
                <th>ÈôçÈõ®Ê©üÁéá</th>
                <!-- <th>Â§©Ê∞£ÁèæË±°</th> -->
                <th>0-12Ê∫´Â∫¶</th>
                <th>12-24Ê∫´Â∫¶</th>
                <th>24-36Ê∫´Â∫¶</th>
                <th>ËàíÈÅ©Â∫¶</th>
            </tr>
        </thead>
        <tbody class="tbody"></tbody>
    </table>

    <!-- ËºâÂÖ•bs5 js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js"
        integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>

    <!-- ËºâÂÖ•pwd -->
    <!-- .gitignore -->
    <!-- /pw -->
    <!-- /pw/pw.js -->
    <!-- let pw = 'your password' -->
    <script src="../../pw/pw.js"></script>
    <script>
        $(document).ready(function () {

            let pwd = pw;
            // console.log('pwd', pwd);


            let url = `https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=${pwd}`;
            $.ajax({
                type: "get",
                url: url,
                dataType: "json",
                success: function (res) {
                    console.log(res);

                    const tbody = $('.tbody');
                    const locations = res.records.location;

                    locations.forEach(function (value, index) {
                        let wxText12 = value.weatherElement[0].time[0].parameter.parameterName;
                        let wxText24 = value.weatherElement[0].time[1].parameter.parameterName;
                        let wxText36 = value.weatherElement[0].time[2].parameter.parameterName;            

                        // wxValue
                        let wxValue12 = value.weatherElement[0].time[0].parameter.parameterValue;
                        let wxValue24 = value.weatherElement[0].time[1].parameter.parameterValue;
                        let wxValue36 = value.weatherElement[0].time[2].parameter.parameterValue;    


                         // minT
                        let minT12 = value.weatherElement[2].time[0].parameter.parameterName;
                        let minT24 = value.weatherElement[2].time[1].parameter.parameterName;
                        let minT36 = value.weatherElement[2].time[2].parameter.parameterName;

                        // maxT
                        let maxT12 = value.weatherElement[4].time[0].parameter.parameterName;
                        let maxT24 = value.weatherElement[4].time[1].parameter.parameterName;
                        let maxT36 = value.weatherElement[4].time[2].parameter.parameterName;

                        let pop = value.weatherElement[1].time[0].parameter.parameterName + '%';
                        let ci = value.weatherElement[3].time[0].parameter.parameterName;

                        let tmpText = `
                            <tr>
                                <td data-label="Á∑®Ëôü">${index + 1}</td>
                                <td data-label="ÂüéÂ∏Ç">${value.locationName}</td>
                                <td data-label="ÈôçÈõ®Ê©üÁéá">${pop}</td>
                                <td data-label="0-12Ê∫´Â∫¶">${minT12} &deg;C - ${maxT12} &deg;C ${wxText12}  <img src="./day/${wxValue12}.svg" alt=""> </td>
                                <td data-label="12-24Ê∫´Â∫¶">${minT24} &deg;C - ${maxT24} &deg;C ${wxText24} <img src="./day/${wxValue24}.svg" alt=""> </td>
                                <td data-label="24-36Ê∫´Â∫¶">${minT36} &deg;C - ${maxT36} &deg;C ${wxText36} <img src="./day/${wxValue36}.svg" alt=""> </td>
                                <td data-label="">${ci}</td>
                            </tr>
                        `;
                        tbody.append(tmpText);
                    });
                }
            });
        });

    </script>
</body>

</html>